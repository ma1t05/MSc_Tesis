\begin{algorithm}
  \caption{Subsets Generator}\label{alg:subsets}
  \begin{algorithmic}[0]
    \Procedure{GenerateSubsets}{$RefSet,NowTime$}
    \State $NewSols \gets RefSet.SolutionsSince(NowTime)$
    \ForAll{$(Sol_x,Sol_y) \in NewSols$}
    \If{$Sol_x \in RefSet$ \textbf{and} $Sol_y \in RefSet$}
    \State $CombinedSols \gets PathRelinkingCombination(Sol_x,Sol_y)$
    \State $RefSet.Update(CombinedSols)$
    \EndIf \EndFor
    \State $RefSet.UpdateDiversity()$
    \If{$RefSet.NumberOfOldSols(NowTime) > 0$}
    \State $OldSols \gets RefSet.SolutionsUntil(NowTime)$
    \ForAll{$Sol_x \in NewSols$}
    \ForAll{$Sol_y \in OldSols$}
    \If{$Sol_x \in RefSet$ \textbf{and} $Sol_y \in RefSet$}
    \State $CombinedSols \gets PathRelinkingCombination(Sol_x,Sol_y)$
    \State $RefSet.Update(CombinedSols)$
    \EndIf \EndFor
    \State $RefSet.UpdateDiversity()$
    \EndFor \EndIf
    \EndProcedure
  \end{algorithmic}
\end{algorithm}
